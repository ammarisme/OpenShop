<script>
    // this script will be executed after each view in .content-panel loads

    if (history.state == null || history.state["title"]=="Enterprise Dashboard") {
        $("#dashboard-link").hide();
    } else {
        $("#dashboard-link").show();
    }

    $.pjax.defaults.timeout = false;

    $('a[withpjax]').each(function () {
        
        $(this).pjax(
            {
                container: ".content-panel",
            }
        );
    });

    Date.prototype.toDateInputValue = (function () {
        var local = new Date(this);
        local.setMinutes(this.getMinutes() - this.getTimezoneOffset());
        return local.toJSON().slice(0, 10);
    });

    $('input[type="date"]').val(new Date().toDateInputValue());


    </script>
